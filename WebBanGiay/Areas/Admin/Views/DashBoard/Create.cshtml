
@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_LayoutPageDashBoard.cshtml";
}

<h2>Thêm sản phẩm</h2>

<div class="w-75 mx-auto">
    <form method="post" action="/SanPham/Create">
        <div class="mb-3">
            <label class="form-label">Tên sản phẩm</label>
            <input type="text" name="tenSP" class="form-control" placeholder="Tên sản phẩm">
        </div>
        <div class="mb-3">
            <label class="form-label">Mô tả</label>
            <input type="text" name="moTa" class="form-control" placeholder="Mô tả">
        </div>
        <div class="mb-3">
            <label class="form-label">Giá</label>
            <input type="text" name="Gia" class="form-control" placeholder="Giá">
        </div>
        <div class="d-flex">
            <div class="mb-3">
                <label class="form-label">Danh mục</label>
                <select class="form-select" name="IdDMuc">
                    <option selected>Chọn danh mục</option>
                    @foreach (var i in ViewBag.DanhMuc)
                    {
                        <option value="@i.IdDMuc">@i.tenDMuc</option>
                    }
                 
                </select>
            </div>
            <div class="mb-3 mx-2"> 
                <label class="form-label align-items-center">Hãng</label>
                <select class="form-select" name="IdHang">
                    <option selected>Chọn hãng</option>
                    @foreach (var i in ViewBag.Hang)
                    {
                        <option value="@i.IdHang">@i.tenHang</option>
                    }
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label">Màu sắc</label>
                <select class="form-select" name="Mau">
                    <option selected>Chọn màu</option>
                    @foreach (var i in ViewBag.Mau)
                    {
                        <option value="@i.IdMau">@i.tenMau</option>
                    }
                </select>
            </div>
        </div>
        <a class="btn btn-outline-success my-2" onclick="addSize()">Thêm size</a>
        <div id="loadAddSize"></div>
        <a class="btn btn-outline-success my-2" onclick="addAnh()">Thêm ảnh</a>
        <div id="loadAddAnh"></div>

        <div class="d-flex justify-content-center">
            <button type="submit" class="btn btn-primary">Thêm sản phẩm</button>
        </div>
    </form>

</div>

<script>
    let i = 0;
    function addSize() {
        const f = document.getElementById("loadAddSize");
        const div = document.createElement("div");
        div.className = "mb-3 d-flex justify-content-lg-evenly";
        div.innerHTML = `
                <div>
                <label class="form-label">Chon5 size</label>
                 <select class="form-select" name="IdSize">
                     <option selected>Chọn Size</option>
                     @foreach (var i in ViewBag.Size)
                     {
                         <option value="@i.IdSize">@i.tenSize</option>
                     }
                    </select>
                </div>
                <div>
                    <label class="form-label">Nhập Sl</label>
                    <input type="number" class="form-control" name="dsSl" placeholder="SL">
                </div>
                 <input type="button" class="btn btn-danger mt-4" value="Xóa" onclick="xoa(this)"/>

            `;
        f.appendChild(div);
        i++;
    }

    function addAnh() {
        const f = document.getElementById("loadAddAnh");
        const div = document.createElement("div");
        div.className = "mb-3 d-flex align-items-center justify-content-lg-evenly ";
        div.innerHTML = `
             <div class="w-75">
                <label class="form-label">Link ảnh</label>
                <input type="text" class="form-control w-100" name="dsAnh" placeholder="Url anh">
             </div>
             <input type="button" class="btn btn-danger mt-4" value="Xóa" onclick="xoa(this)"/>


         `;
        f.appendChild(div);
        i++;
    }

    function xoa(btn) {
        btn.closest("div").remove();
    }
</script>